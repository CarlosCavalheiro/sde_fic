@using SDE_FIC;
@model SDE_FIC.Models.Diario


@{
    ViewBag.Title = "Diário";
    Layout = "~/Views/Shared/_Layout_Sistema.cshtml";
}
<h2>@ViewBag.Title de Turma > Editar > Lançamento</h2>

<legend><h5>
    Turma: <a href="@Url.Action("Turma", "Diario", new { id = ViewBag.turma_idturma }, null)">@ViewBag.turma_descricao</a>  <br />
    @Html.ActionLink("Novo Lançamento", "LancamentoNovo", new { id=ViewBag.turma_idturma }, "Diario") |
    @Html.ActionLink("Conteúdos", "Conteudo", new { id=ViewBag.turma_idturma }, "Diario") | 
    @Html.ActionLink("Frequências", "Frequencia", new { id=ViewBag.turma_idturma }, "Diario") |  
    @Html.ActionLink("Notas", "Notas", new { id=ViewBag.turma_idturma }, "Diario") |
    @Html.ActionLink("Aproveitamentos", "Aproveitamentos", new { id=ViewBag.turma_idturma }, "Diario") |
    @Html.ActionLink("Relatório(PDF)", "GerarPDF", new { id=ViewBag.turma_idturma }, "Diario") |  
    @Html.ActionLink("Meus Diários", "Index", "Diario")

   </h5> </legend>

<div style="width: 920px; height:100px; float: left; border: 1px solid gray; padding: 5px; margin: 0px; border-radius: 4px; background-color: #f5bbbb;">
    <h3>Tem certeza de que deseja APAGAR o Lançamento?</h3>
    <h5>Todas as informações de frequencia registrados para este dia no diário serão removidas!</h5>
</div>

@using (Html.BeginForm()) {
        int idturma = ViewBag.turma_idturma; 
        @Html.Hidden("IdTurma", idturma)
        @Html.HiddenFor(model => Model.IdDiario)

         int strcriterio = ViewBag.strCriterio;
         int strcriterioanterior = ViewBag.strCriterioAnterior;
        @Html.Hidden("strCriterio", strcriterio)
        @Html.Hidden("strCriterioAnterior", strcriterioanterior)

    <div style="width: 430px; float: left; margin-top: 20px;">
        <h5>Lançamento de Conteúdo </h5> 
        <b>Data:</b> @Model.Data.ToShortDateString()
        <br />

        <b>Unidade Curricular: </b>
        @Html.HiddenFor(model => Model.IdUnidadeCurricular)
        @Html.DisplayFor(model => Model.UnidadeCurricular.Descricao)
        <br />
        <b>Conteúdo Formativo: </b>
        @Html.DisplayFor(model => Model.Conteudo, new { @style = "width: 400px; height:80px;"})
        <br />
        <b>Ocorrência</b>
        @Html.DisplayFor(model => Model.Ocorrencia, new { @style = "width: 400px; height:80px;" })

    </div>
    <div style="width: 490px; padding-left:5px; padding-right:5px; float: left; border:1px; border-style: solid; border-radius: 4px; border-color: #c0c0c0;  margin-top: 20px;">
        <h5>Lançamento de Frequência</h5>
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>Aluno
                    </th>
                    <th>Presença
                    </th>
                    <th>Horas Aula
                    </th>
                </tr>
            </thead>
            @for (var i = 0; i < Model.Frequencias.Count; i++)
            {
               
                <tbody>
                    <tr>
                        <td style="width: 300px;">
                                                  @Html.HiddenFor(m => Model.Frequencias[i].IdFrequencia)
                                                  @Model.Frequencias[i].Matricula.Aluno.Nome.ToUpper() 
                                                  @Html.HiddenFor(m => Model.Frequencias[i].Matricula.IdMatricula)
                        </td>
                        <td style="text-align: center;">
                                                        @*@Html.DropDownListFor(m => Model.Frequencias[i].Presenca, new SelectList(
                                                                new List<Object>{ 
                                                                new { value =  "P" , text =  "P"  },
                                                                new { value =  "A" , text =  "A"  },
                                                                new { value =  "TE" , text =  "TE"  },
                                                                new { value =  "TS" , text =  "TS"  },
                                   
                                                },"value","text"), null, new { @class = "Presenca" })*@
                                                    @Html.DisplayFor(m => Model.Frequencias[i].Presenca)
                        </td>
                        <td style="text-align: center;">@Html.DisplayFor(m => Model.Frequencias[i].HoraAula, new { @class = "HoraAula", @type = "number", @style = "height: 20px; padding: 2px 2px; margin-bottom: 0px; font-size: 10px; line-height: 20px;", Value = "4"})</td>
                    </tr>
                </tbody>
            }
        </table>
    </div> 
    <div style="clear: both;"></div>
    <div style="width: 100%;">
        <input type="submit" class="btn btn-danger " value="Excluir" />
    </div>
}

